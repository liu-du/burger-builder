{"version":3,"sources":["components/UI/Input/Input.js","components/UI/Input/Input.css","shared/utility.js","components/Order/CheckoutSummary/CheckoutSummary.css","containers/Checkout/ContactData/ContactData.css","components/Order/CheckoutSummary/ChekcoutSummary.js","containers/Checkout/ContactData/ContactData.js","containers/Checkout/Checkout.js"],"names":["react__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","react__WEBPACK_IMPORTED_MODULE_0___default","n","_Input_css__WEBPACK_IMPORTED_MODULE_1__","_Input_css__WEBPACK_IMPORTED_MODULE_1___default","input","props","inputElement","inputClasses","classes","InputElement","invalid","shouldValidate","touched","push","Invalid","elementType","a","createElement","Object","assign","className","join","value","onChange","changed","elementConfig","options","map","option","key","displayValue","Input","Label","label","module","exports","d","__webpack_exports__","checkValidity","rules","isValid","required","trim","minLength","length","maxLength","isEmail","test","CheckoutSummary","ContactData","checkoutSummary","react_default","style","width","margin","Burger","ingredients","Button","btnType","clicked","checkoutCancelled","checkoutContinued","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","orderHandler","event","preventDefault","formData","keys","state","orderForm","reduce","acc","objectSpread","defineProperty","order","price","orderData","userId","onOrderBurger","token","inputChangedHandler","inputIdentifier","updatedOrderForm","updatedFormElement","target","valid","validation","setState","name","inputState","street","zipCode","country","email","deliveryMethod","selectState","placeholder","configType","arguments","undefined","_ref","_ref$minLength","_ref$maxLength","Number","POSITIVE_INFINITY","type","_this2","formElementsArray","id","config","form","onSubmit","el","loading","Spinner","Component","connect","burgerBuilder","totalPrice","auth","dispatch","actionCreators","withErrorHandler","axios","Checkout","checkoutCancelledHandler","history","goBack","checkoutContinuedHandler","replace","match","url","summary","ChekcoutSummary","ings","x","y","purchased","react_router","to","path","component"],"mappings":"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","file":"static/js/1.b53b1de9.chunk.js","sourcesContent":["import React from \"react\";\nimport classes from \"./Input.css\";\n\nconst input = props => {\n  let inputElement = null;\n  const inputClasses = [classes.InputElement];\n  if (props.invalid && props.shouldValidate && props.touched) {\n    inputClasses.push(classes.Invalid);\n  }\n\n  switch (props.elementType) {\n    case \"input\":\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n          {...props.elementConfig}\n        />\n      );\n      break;\n\n    case \"select\":\n      inputElement = (\n        <select\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n        >\n          {props.elementConfig.options.map(option => (\n            <option key={option.value} value={option.value}>\n              {option.displayValue}\n            </option>\n          ))}\n        </select>\n      );\n      break;\n\n    case \"textarea\":\n      inputElement = (\n        <textarea\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n          {...props.elementConfig}\n        />\n      );\n      break;\n\n    default:\n      inputElement = (\n        <input\n          className={inputClasses.join(\" \")}\n          value={props.value}\n          onChange={props.changed}\n          {...props.elementConfig}\n        />\n      );\n      break;\n  }\n\n  return (\n    <div className={classes.Input}>\n      <label className={classes.Label}>{props.label}</label>\n      {inputElement}\n    </div>\n  );\n};\n\nexport default input;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Input\":\"Input__Input__s67N0\",\"Label\":\"Input__Label___n-1m\",\"InputElement\":\"Input__InputElement__2-aFx\",\"Invalid\":\"Input__Invalid__1sl1p\"};","export const checkValidity = (value, rules) => {\n  let isValid = true;\n  if (rules.required) {\n    isValid = value.trim() !== \"\" && isValid;\n  }\n  if (rules.minLength) {\n    isValid = value.length >= rules.minLength && isValid;\n  }\n  if (rules.maxLength) {\n    isValid = value.length <= rules.maxLength && isValid;\n  }\n  if (rules.isEmail) {\n    isValid = /^.+@.+$/.test(value) && isValid;\n  }\n  return isValid;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CheckoutSummary\":\"CheckoutSummary__CheckoutSummary__1xBm4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactData\":\"ContactData__ContactData__1J81r\"};","import React from \"react\";\nimport Burger from \"../../Burger/Burger\";\nimport Button from \"../../UI/Button/Button\";\nimport classes from \"./CheckoutSummary.css\";\n\nconst checkoutSummary = props => {\n  return (\n    <div className={classes.CheckoutSummary}>\n      <h1>We hope it tastes well!</h1>\n      <div style={{ width: \"100%\", margin: \"auto\" }}>\n        <Burger ingredients={props.ingredients} />\n      </div>\n      <Button btnType=\"Danger\" clicked={props.checkoutCancelled}>\n        Cancel\n      </Button>\n      <Button btnType=\"Success\" clicked={props.checkoutContinued}>\n        Continue\n      </Button>\n    </div>\n  );\n};\n\nexport default checkoutSummary;\n","import React, { Component } from \"react\";\nimport Button from \"../../../components/UI/Button/Button\";\nimport classes from \"./ContactData.css\";\nimport axios from \"../../../axios-orders\";\nimport Spinner from \"../../../components/UI/Spinner/Spinner\";\nimport Input from \"../../../components/UI/Input/Input\";\nimport withErrorHandler from \"../../../hoc/withErrorHandler/withErrorHandler\";\n\nimport { connect } from \"react-redux\";\nimport * as actionCreators from \"../../../store/actions/index\";\nimport { checkValidity } from \"../../../shared/utility\";\n\nclass ContactData extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orderForm: {\n        name: this.inputState(\"Your name\")({ minLength: 2 }),\n        street: this.inputState(\"Street\")({ minLength: 2, maxLength: 5 }),\n        zipCode: this.inputState(\"Zip code\")({ minLength: 1, maxLength: 8 }),\n        country: this.inputState(\"Country\")({ minLength: 1 }),\n        email: this.inputState(\"test@test.com\")({ minLength: 3 }),\n        deliveryMethod: this.selectState(\n          [\n            { value: \"fastest\", displayValue: \"Fastest\" },\n            { value: \"cheapest\", displayValue: \"Cheapest\" }\n          ],\n          \"fastest\"\n        )\n      }\n    };\n  }\n\n  inputState(placeholder, configType = \"text\", value = \"\") {\n    return ({ minLength = 0, maxLength = Number.POSITIVE_INFINITY }) => ({\n      elementType: \"input\",\n      elementConfig: {\n        type: configType,\n        placeholder: placeholder\n      },\n      value: value,\n      validation: {\n        required: true,\n        minLength: minLength,\n        maxLength: maxLength\n      },\n      valid: false,\n      touched: false\n    });\n  }\n\n  selectState(options = [], value = \"\") {\n    return {\n      elementType: \"select\",\n      elementConfig: {\n        options: options\n      },\n      value: value,\n      validation: {}\n    };\n  }\n\n  orderHandler = event => {\n    event.preventDefault();\n    const formData = Object.keys(this.state.orderForm).reduce(\n      (acc, key) => ({\n        ...acc,\n        [key]: this.state.orderForm[key].value\n      }),\n      {}\n    );\n    const order = {\n      ingredients: this.props.ingredients,\n      price: this.props.price,\n      orderData: formData,\n      userId: this.props.userId\n    };\n    this.props.onOrderBurger(order, this.props.token);\n  };\n\n  inputChangedHandler = (event, inputIdentifier) => {\n    const updatedOrderForm = {\n      ...this.state.orderForm\n    };\n    const updatedFormElement = {\n      ...updatedOrderForm[inputIdentifier]\n    };\n    updatedFormElement.value = event.target.value;\n    updatedFormElement.valid = checkValidity(\n      updatedFormElement.value,\n      updatedFormElement.validation\n    );\n    updatedFormElement.touched = true;\n    updatedOrderForm[inputIdentifier] = updatedFormElement;\n    this.setState({ orderForm: updatedOrderForm });\n  };\n\n  render() {\n    const formElementsArray = [];\n    for (let key in this.state.orderForm) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.orderForm[key]\n      });\n    }\n    let form = (\n      <div className={classes.ContactData}>\n        <h4>Enter you Contact Data</h4>\n        <form onSubmit={this.orderHandler}>\n          {formElementsArray.map(el => (\n            <Input\n              key={el.id}\n              elementType={el.config.elementType}\n              elementConfig={el.config.elementConfig}\n              value={el.config.value}\n              invalid={!el.config.valid}\n              shouldValidate={el.config.validation}\n              touched={el.config.touched}\n              changed={event => this.inputChangedHandler(event, el.id)}\n            />\n          ))}\n          <Button btnType=\"Success\">Order</Button>\n        </form>\n      </div>\n    );\n    if (this.props.loading) {\n      form = <Spinner />;\n    }\n    return form;\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    ingredients: state.burgerBuilder.ingredients,\n    price: state.burgerBuilder.totalPrice,\n    loading: state.order.loading,\n    token: state.auth.token,\n    userId: state.auth.userId\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOrderBurger: (orderData, token) =>\n      dispatch(actionCreators.purchaseBurger(orderData, token))\n  };\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(withErrorHandler(ContactData, axios));\n","import React, { Component } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport CheckoutSummary from \"../../components/Order/CheckoutSummary/ChekcoutSummary\";\nimport ContactData from \"./ContactData/ContactData\";\nimport { connect } from \"react-redux\";\n\nclass Checkout extends Component {\n  checkoutCancelledHandler = () => {\n    this.props.history.goBack();\n  };\n\n  checkoutContinuedHandler = () => {\n    this.props.history.replace(this.props.match.url + \"/contact-data\");\n  };\n\n  render() {\n    let summary = (\n      <CheckoutSummary\n        ingredients={this.props.ings}\n        checkoutCancelled={this.checkoutCancelledHandler}\n        checkoutContinued={this.checkoutContinuedHandler}\n      />\n    );\n    if (\n      !this.props.ings ||\n      Object.keys(this.props.ings)\n        .map(key => this.props.ings[key])\n        .reduce((x, y) => x + y, 0) === 0 ||\n      this.props.purchased\n    ) {\n      summary = <Redirect to=\"/\" />;\n    }\n    return (\n      <div>\n        {summary}\n        <Route\n          path={this.props.match.url + \"/contact-data\"}\n          component={ContactData}\n        />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    ings: state.burgerBuilder.ingredients,\n    purchased: state.order.purchased\n  };\n};\n\nexport default connect(mapStateToProps)(Checkout);\n"],"sourceRoot":""}